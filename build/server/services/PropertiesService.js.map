{"version":3,"sources":["../../../api/server/services/PropertiesService.js"],"names":["PropertiesService","database","property_listing","findAll","newProperty","create","id","updateProperty","findOne","where","Number","propertyToUpdate","update","console","log","property","propertyToDelete","destroy","deletedProperty"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;IAEMA,iB;;;;;;;;4GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEiBC,mBAASC,gBAAT,CAA0BC,OAA1B,EAFjB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;uGAQA,kBAAyBC,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEiBH,mBAASC,gBAAT,CAA0BG,MAA1B,CAAiCD,WAAjC,CAFjB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;gHAQA,kBAAkCE,EAAlC,EAAsCC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEmCN,mBAASC,gBAAT,CAA0BM,OAA1B,CAAkC;AAC/DC,kBAAAA,KAAK,EAAE;AAAEH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAZ;AADwD,iBAAlC,CAFnC;;AAAA;AAEUK,gBAAAA,gBAFV;;AAAA,qBAMQA,gBANR;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAOYV,mBAASC,gBAAT,CAA0BU,MAA1B,CAAiCL,cAAjC,EAAiD;AACrDE,kBAAAA,KAAK,EAAE;AAAEH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAZ;AAD8C,iBAAjD,CAPZ;;AAAA;AAAA,kDAWaC,cAXb;;AAAA;AAAA,kDAaW,IAbX;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;6GAmBA,kBAA+BD,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACEO,gBAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AADF;AAAA;AAAA,uBAG2Bb,mBAASC,gBAAT,CAA0BM,OAA1B,CAAkC;AACvDC,kBAAAA,KAAK,EAAE;AAAEH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAZ;AADgD,iBAAlC,CAH3B;;AAAA;AAGUS,gBAAAA,QAHV;AAMIF,gBAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCC,QAAtC;AANJ,kDAOWA,QAPX;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;gHAaA,kBAAkCT,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEmCL,mBAASC,gBAAT,CAA0BM,OAA1B,CAAkC;AAC/DC,kBAAAA,KAAK,EAAE;AAAEH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAZ;AADwD,iBAAlC,CAFnC;;AAAA;AAEUU,gBAAAA,gBAFV;;AAAA,qBAMQA,gBANR;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAOoCf,mBAASC,gBAAT,CAA0Be,OAA1B,CAAkC;AAC9DR,kBAAAA,KAAK,EAAE;AAAEH,oBAAAA,EAAE,EAAEI,MAAM,CAACJ,EAAD;AAAZ;AADuD,iBAAlC,CAPpC;;AAAA;AAOYY,gBAAAA,eAPZ;AAAA,kDAUaA,eAVb;;AAAA;AAAA,kDAYW,IAZX;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;eAmBalB,iB","sourcesContent":["import database from '../src/models';\r\n\r\nclass PropertiesService {\r\n  static async getAllProperties() {\r\n    try {\r\n      return await database.property_listing.findAll();\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async addProperty(newProperty) {\r\n    try {\r\n      return await database.property_listing.create(newProperty);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async updateSingleProperty(id, updateProperty) {\r\n    try {\r\n      const propertyToUpdate = await database.property_listing.findOne({\r\n        where: { id: Number(id) },\r\n      });\r\n\r\n      if (propertyToUpdate) {\r\n        await database.property_listing.update(updateProperty, {\r\n          where: { id: Number(id) },\r\n        });\r\n\r\n        return updateProperty;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async getSingleProperty(id) {\r\n    console.log('Start to get a single property');\r\n    try {\r\n      const property = await database.property_listing.findOne({\r\n        where: { id: Number(id) },\r\n      });\r\n      console.log('Thye property is here:', property);\r\n      return property;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async deleteSingleProperty(id) {\r\n    try {\r\n      const propertyToDelete = await database.property_listing.findOne({\r\n        where: { id: Number(id) },\r\n      });\r\n\r\n      if (propertyToDelete) {\r\n        const deletedProperty = await database.property_listing.destroy({\r\n          where: { id: Number(id) },\r\n        });\r\n        return deletedProperty;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nexport default PropertiesService;\r\n"],"file":"PropertiesService.js"}